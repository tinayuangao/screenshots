<md-card>
  <p><a md-button [href]="prLink" target="_blank" color="primary">Pull Request: {{prNumber}}</a></p>
  <p><a md-button [href]="commitLink" target="_blank" color="primary">Commit: {{_sha}}</a></p>
  <p><a md-button [href]="travisLink" target="_blank" color="primary">Travis: {{_travis}}</a></p>
  <p>
    <app-approve></app-approve>
    Approval will copy all test results to golds.
    Please go to Travis to restart the job manually after approval.
  </p>
  <p *ngIf="hasPermission"> <!-- this feature is disabled . Should restart travis job after approval -->
    <a md-button color="primary" (click)="updateGithubStatus('success')">Set Github to Success</a>
    This will not update golds, but only change the screenshot test status on current commit.
    Once the PR checked in, the golds will be updated automatically.
  </p>
  <md-card-actions>
    <button md-raised-button color="primary" (click)="setCollapse(true)">Collapse All</button>
    <button md-raised-button color="primary" (click)="setCollapse(false)">Expand All</button>
  </md-card-actions>
</md-card>

<div *ngFor="let filename of filenames; let i = index">
  <app-result [filename]="filename"
              [prNumber]="prNumber"
              [(mode)]="mode"
              [(flipping)]="flipping"
              [(collapse)]="collapse[i]"></app-result>
</div>
